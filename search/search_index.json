{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Valheimw","text":"<p>Valheimw is a Valheim server wrapper for running the Valheim Dedicated Server, modded or otherwise. If mods are specified, it uses BepInEx to load them. It provides additional features beyond that in the form of an HTTP server that it runs alongside the Valheim server, featuring the ability to:</p> <ul> <li>Download a tarball of the mods in use to distribute them to other players.</li> <li>Download the world's <code>.db</code> and <code>.fwl</code> files.</li> <li>Get information from the world's <code>.fwl</code> file, parsed on your behalf.</li> <li>Go to the world's valheim-map.world page.</li> </ul> <p>For an example of how to use Valheimw, consider a directory with the following <code>docker-compose.yml</code>:</p> <pre><code>services:\n  valheimw:\n    image: ghcr.io/frantjc/valheimw\n    command:\n      # The name of the Valheim server's save files.\n      # If they already exist, it will load them. If\n      # they do not, it will create them.\n      # Optional. Default \"valheimw\".\n      # - --world=hello\n      # The name of the Valheim server as a player would\n      # see it in-game when connecting to it.\n      # Optional. Default \"valheimw\".\n      # - --name=there\n      # Can be specified if you want to run a\n      # pre-release version of the Valheim server.\n      # Optional.\n      # - --beta=public-test\n      # - --beta-password=yesimadebackups\n      # Browse https://valheim.thunderstore.io/ for available mods.\n      # Names are case-sensitive.\n      # Optional.\n      # - --mod=RandyKnapp/EquipmentAndQuickSlots\n    environment:\n      # The password you will use to connect to your server.\n      # Required. Must be at least 5 characters, and cannot\n      # be contained within your world name. Default world name\n      # is \"valheimw\".\n      VALHEIM_PASSWORD: hellothere\n    volumes:\n      # Valheimw caches stuff here and the Valheim server's\n      # save data is here by default.\n      - ./saves:/home/valheimw/.cache\n    ports:\n      # Expose the Valheim server's port.\n      # If you change the Valheim server's port from its default,\n      # via `--port`, ensure that this is changed to match.\n      - 2456:2456/udp\n      # Expose Valheimw's HTTP server's port.\n      # If you change Valheimw's HTTP server's port from its default,\n      # via `--addr`, ensure that this is changed to match.\n      - 8080:8080\n</code></pre> <p>To run the Valheimw this way, run the following command in the directory that the above file is placed in.</p> <pre><code>docker compose up\n</code></pre> <p>Once Valheimw is running, its helpful HTTP server can be used.</p> <p>To get the world's seed, run the following:</p> <pre><code>curl http://localhost:8080/seed.txt\n</code></pre> <p>To go to the world's valheim-map.world page, open localhost:8080/map.</p> <p>To download the mods that the Valheim server is using (if any), run the following command:</p> <pre><code>curl http://localhost:8080/mods.gz | tar -xzf-\n</code></pre> <p>To see an exhaustive list of arguments for Valheimw, see the following or run the help command yourself:</p> <pre><code>docker run ghcr.io/frantjc/valheimw --help\n</code></pre> <pre><code>Usage:\n  valheimw [flags]\n\nFlags:\n      --addr string              address (default \":8080\")\n      --admin int64Slice         Valheim server admin Steam IDs (default [])\n      --backup-long duration     Valheim server -backuplong duration\n      --backup-short duration    Valheim server -backupshort duration\n      --backups int              Valheim server -backup amount\n      --ban int64Slice           Valheim server banned Steam IDs (default [])\n      --beta string              Steam beta branch\n      --beta-password string     Steam beta password\n      --combat-modifier          Valheim server -modifier combat\n      --crossplay                Valheim server enable -crossplay\n      --death-penalty-modifier   Valheim server -modifier deathpenalty\n  -h, --help                     help for valheimw\n      --instance-id string       Valheim server -instanceid\n  -m, --mod stringArray          Thunderstore mods (case-sensitive)\n      --name string              Valheim server -name (default \"valheimw\")\n      --no-build-cost            Valheim server -setkey nobuildcost\n      --no-db                    do not expose the world .db file for download\n      --no-fwl                   do not expose the world .fwl file information\n      --no-map                   Valheim server -setkey nomap\n      --passive-mobs             Valheim server -setkey passivemobs\n      --permit int64Slice        Valheim server permitted Steam IDs (default [])\n      --player-events            Valheim server -setkey playerevents\n      --port int                 Valheim server -port (0 to use default)\n      --portal-modifier          Valheim server -modifier portals\n      --preset                   Valheim server -preset\n      --public                   Valheim server make -public\n      --raid-modifier            Valheim server -modifier raids\n      --resource-modifier        Valheim server -modifier resources\n      --save-interval duration   Valheim server -saveinterval duration\n      --savedir string           Valheim server -savedir (default \"/home/valheimw/.cache/valheimw/valheim\")\n  -V, --verbose count            verbosity\n  -v, --version                  version for valheimw\n      --world string             Valheim server -world (default \"valheimw\")\n</code></pre>"},{"location":"mist/","title":"Mist","text":"<p>Mist is a CLI tool for use in <code>Dockerfile</code>s to install Steamapps, Steam Workshop items, and thunderstore.io mods. It uses GoCloud's URL concept to expose installing the content from the different sources using a similar command.</p> <p>The following <code>Dockerfile</code> builds a container image for a modded Valheim server and provides an excellent example for how to use Mist:</p> <pre><code>FROM debian:stable-slim\nCOPY --from=ghcr.io/frantjc/mist /mist /usr/local/bin\nRUN apt-get update -y \\\n    &amp;&amp; apt-get install -y --no-install-recommends \\\n        # So that mist can make a trusted TLS connection\n        # to download `steamcmd`.\n        ca-certificates \\\n        # `mist` installs `steamcmd`, but we still have to\n        # satisfy `steamcmd`'s dependencies.\n        lib32gcc-s1 \\\n    &amp;&amp; apt-get clean \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/* \\\n    # Install the Valheim server to /root/valheim.\n    # \"896660\" refers to the Steamapp ID of the Valheim server.\n    &amp;&amp; mist steamapp://896660 /root/valheim \\\n    # Install BepInEx to /root/valheim.\n    &amp;&amp; mist thunderstore://denikson/BepInExPack_Valheim /root/valheim \\\n    # Install EquipmentAndQuickSlots to /root/valheim/BepInEx/plugins.\n    &amp;&amp; mist thunderstore://RandyKnapp/EquipmentAndQuickSlots /root/valheim/BepInEx/plugins \\\n    # Cleanup.\n    &amp;&amp; mist --clean \\\n    &amp;&amp; rm /usr/local/bin/mist \\\n    &amp;&amp; apt-get remove -y \\\n        ca-certificates \\\n        lib32gcc-s1\nWORKDIR /root/valheim/\nENTRYPOINT [\"/root/valheim/start_server.sh\"]\n</code></pre>"}]}